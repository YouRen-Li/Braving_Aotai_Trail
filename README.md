# 勇闯鳌太线 - 游戏设计思路与开发计划

## 1. 游戏概述

这是一个基于文字冒险的生存类 Roguelike 游戏。玩家将在每次开始游戏时随机获得一个角色身份，试图穿越危险的“鳌太线”。游戏核心在于资源管理（生命值、饥饿度）和剧情选择。

## 2. 核心玩法 (Gameplay)

### 2.1 随机角色系统

- **开局机制**：点击“开始徒步”后，系统随机生成一个角色。
- **角色属性**：
  - **姓名**：从姓名库随机。
  - **背景**：籍贯（如河南郑州）、年龄（18-30岁）、职业（大学生、驴友等）。
  - **文案示例**：“你叫大山，你是一名来自河南省郑州市的21岁男大学生。”
  - **玩法影响**：不同的背景未来可能影响初始道具或剧情判定（例如：医生自带急救包）。

### 2.2 生存数值系统 (Status)

屏幕上方常驻显示两条核心数值，模拟真实的生存压力：

1. **生命值 (Health)**:
    - 初始 100。
    - **扣除**：受天气（失温）、受伤（滑坠）、野兽袭击等事件影响。
    - **回复**：通过药品、休息事件恢复。
    - **后果**：归零即死亡（Game Over）。
2. **饥饿度 (Hunger)**:
    - 初始 100。
    - **扣除**：每进行一次剧情推进（移动一个节点）固定扣除一定数值。
    - **回复**：通过进食（消耗背包食物）恢复。
    - **后果**：归零后，每走一步都会大幅扣除生命值。

### 2.3 背包与物品系统 (Inventory)

- **界面**：右上角常驻“背包”按钮，点击弹出物品栏浮层。
- **机制**：
  - **容量限制**：背包格子有限，迫使玩家在物资（食物、水）和工具（手电、帐篷）之间做取舍。
  - **物品获取**：开局随机携带 + 剧情探索拾取。
  - **物品作用**：决定剧情分支。例如：遇到黑暗洞穴，有“手电筒”才能选择“进入探险”，否则只能“绕路”（消耗更多饥饿度）。

### 2.4 剧情推进引擎

- **节点式叙事**：游戏由无数个“场景节点”组成。
- **随机与分支**：
  - 每个节点包含一段环境描述（Typewriter 打字机效果）。
  - 玩家面临 1-3 个选择按钮。
  - **条件分支**：某些选项需要特定道具或属性才能解锁。
  - **场景切换**：主线剧情会切换大场景（如：森林 -> 石海 -> 垭口 -> 顶峰）。

### 2.5 天气与环境系统 (Weather & Environment)

- **多变天气**：鳌太线气候多变，玩家会随机遭遇晴天、浓雾、大风、暴雪等天气。
- **机制影响**：
  - **能见度**：恶劣天气（浓雾、黑夜）会锁定“探索”类选项。
  - **数值惩罚**：暴雪会加速生命值（体温）流失，大风增加行走时的饥饿消耗。
- **昼夜交替**：夜间强行赶路会大幅增加滑坠风险，通常需要寻找避风处过夜。

### 2.6 营地与休息 (Camp & Rest)

- **扎营机制**：在特定节点（如：2800营地、避风石下）可以使用“帐篷/睡袋”进行扎营过夜。
- **策略性**：扎营是恢复生命值、安全进食、以及躲避夜晚低温的唯一手段。合理规划扎营点是通关关键。

### 2.7 胜利与结局 (Victory & Endings)

- **胜利条件**：成功穿越鳌太线，抵达终点（如：下撤到汤峪）。
- **失败结局**：生命值归零（失温冻死、滑坠身亡、野兽袭击）。
- **中途下撤**：若状态极其不佳，可在设有“下撤点”的节点选择下撤求救（算作“生还但挑战失败”，会有不同的结算评价）。

## 3. 技术实现思路

### 3.1 状态管理 (State Management)

使用 **Pinia** 来统一管理全局游戏状态，架构清晰：

- `gameStore`
  - `character`: { name, age, origin, identity }
  - `status`: { hp, hunger }
  - `inventory`: Array<CurrentItems>
  - `currentScene`: 当前剧情ID
  - `history`: 历史操作记录（用于结算）

### 3.2 剧情数据结构 (Data Schema)

将剧情内容与代码逻辑分离，使用 JSON 或 JS 对象配置表。
这样未来想修改剧情，只需改文案配置，不需要改代码。

```javascript
// 剧情配置示例
export const scenes = {
  "start_001": {
    "text": "寒风凛冽，你站在登山口，面前是茫茫白雪...",
    "choices": [
      { "text": "检查装备", "action": "check_gear" },
      { "text": "直接出发", "target": "scene_002", "cost": { "hunger": 5 } }
    ]
  }
}
```

### 3.3 页面架构

1. **首页 (pages/index)**:
    - 保持现有视觉。
    - “开始徒步”按钮绑定 Store 的 `initGame()` Action，随机生成角色数据，然后跳转。
2. **游戏主页 (pages/game)**:
    - **UI布局**：
        - 顶部：`<StatusBar />` (血条/饿条)。
        - 右上：`<BagButton />` (背包)。
        - 中部：`<StoryText />` (剧情显示区域)。
        - 底部：`<ActionGroup />` (操作按钮区域)。

## 4. 后续开发规划

1. **完善 README**: 确认以上设计思路 (当前步骤)。
2. **状态层**: 在 `stores` 中建立游戏数据模型。
3. **UI层**: 新建 `pages/game/index.vue`，实现基础布局。
4. **逻辑层**: 让“点击按钮”能跑通“扣血/扣饿 -> 换文案”的最小循环。
